(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(g){var s=g.defaultOptions,y=g.doc,b=g.Chart,M=g.addEvent,o=g.removeEvent,i=g.fireEvent,z=g.createElement,c=g.discardElement,L=g.css,w=g.merge,d=g.pick,l=g.each,j=g.objectEach,A=g.extend,q=g.isTouchDevice,e=g.win,m=e.navigator.userAgent,u=g.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(m);/firefox/i.test(m);A(s.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});s.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};w(!0,s.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:q?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});s.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}};g.post=function(f,h,n){var k=z("form",w({method:"post",action:f,enctype:"multipart/form-data"},n),{display:"none"},y.body);j(h,function(p,r){z("input",{type:"hidden",name:r,value:p},null,k)});k.submit();c(k)};A(b.prototype,{sanitizeSVG:function(f,h){if(h&&h.exporting&&h.exporting.allowHTML){var k=f.match(/<\/svg>(.*?$)/);k&&k[1]&&(k='\x3cforeignObject x\x3d"0" y\x3d"0" width\x3d"'+h.chart.width+'" height\x3d"'+h.chart.height+'"\x3e\x3cbody xmlns\x3d"http://www.w3.org/1999/xhtml"\x3e'+k[1]+"\x3c/body\x3e\x3c/foreignObject\x3e",f=f.replace("\x3c/svg\x3e",k+"\x3c/svg\x3e"))}f=f.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'\x3csvg xmlns:xlink\x3d"http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href\x3d").replace(/\n/," ").replace(/<\/svg>.*?$/,"\x3c/svg\x3e").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1\x3d"rgb($2)" $1-opacity\x3d"$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad");return f=f.replace(/<IMG /g,"\x3cimage ").replace(/<(\/?)TITLE>/g,"\x3c$1title\x3e").replace(/height=([^" ]+)/g,'height\x3d"$1"').replace(/width=([^" ]+)/g,'width\x3d"$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href\x3d"$1"/\x3e').replace(/ id=([^" >]+)/g,' id\x3d"$1"').replace(/class=([^" >]+)/g,'class\x3d"$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(f){var h,n,k,t,r,p=w(this.options,f);y.createElementNS||(y.createElementNS=function(v,x){return y.createElement(x)});n=z("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},y.body);k=this.renderTo.style.width;r=this.renderTo.style.height;k=p.exporting.sourceWidth||p.chart.width||/px$/.test(k)&&parseInt(k,10)||600;r=p.exporting.sourceHeight||p.chart.height||/px$/.test(r)&&parseInt(r,10)||400;A(p.chart,{animation:!1,renderTo:n,forExport:!0,renderer:"SVGRenderer",width:k,height:r});p.exporting.enabled=!1;delete p.data;p.series=[];l(this.series,function(v){t=w(v.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:v.visible});t.isInternal||p.series.push(t)});l(this.axes,function(v){v.userOptions.internalKey||(v.userOptions.internalKey=g.uniqueKey())});h=new g.Chart(p,this.callback);f&&l(["xAxis","yAxis","series"],function(v){var x={};f[v]&&(x[v]=f[v],h.update(x))});l(this.axes,function(v){var x=g.find(h.axes,function(D){return D.options.internalKey===v.userOptions.internalKey}),B=v.getExtremes(),C=B.userMin,B=B.userMax;!x||void 0===C&&void 0===B||x.setExtremes(C,B,!0,!1)});k=h.getChartHTML();k=this.sanitizeSVG(k,p);p=null;h.destroy();c(n);return k},getSVGForExport:function(f,h){var k=this.options.exporting;return this.getSVG(w({chart:{borderRadius:0}},k.chartOptions,h,{exporting:{sourceWidth:f&&f.sourceWidth||k.sourceWidth,sourceHeight:f&&f.sourceHeight||k.sourceHeight}}))},exportChart:function(f,h){h=this.getSVGForExport(f,h);f=w(this.options.exporting,f);g.post(f.url,{filename:f.filename||"chart",type:f.type,width:f.width||0,scale:f.scale,svg:h},f.formAttributes)},print:function(){var h=this,k=h.container,r=[],n=k.parentNode,t=y.body,x=t.childNodes,v=h.options.exporting.printMaxWidth,p,B;if(!h.isPrinting){h.isPrinting=!0;h.pointer.reset(null,0);i(h,"beforePrint");if(B=v&&h.chartWidth>v){p=[h.options.chart.width,void 0,!1],h.setSize(v,void 0,!1)}l(x,function(f,C){1===f.nodeType&&(r[C]=f.style.display,f.style.display="none")});t.appendChild(k);e.focus();e.print();setTimeout(function(){n.appendChild(k);l(x,function(f,C){1===f.nodeType&&(f.style.display=r[C])});h.isPrinting=!1;B&&h.setSize.apply(h,p);i(h,"afterPrint")},1000)}},contextMenu:function(f,p,v,r,H,D,x){var t=this,G=t.options.navigation,B=t.chartWidth,F=t.chartHeight,E="cache-"+f,C=t[E],I=Math.max(H,D),J,h;C||(t[E]=C=z("div",{className:f},{position:"absolute",zIndex:1000,padding:I+"px"},t.container),J=z("div",{className:"highcharts-menu"},null,C),L(J,A({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},G.menuStyle)),h=function(){L(C,{display:"none"});x&&x.setState(0);t.openMenu=!1},t.exportEvents.push(M(C,"mouseleave",function(){C.hideTimer=setTimeout(h,500)}),M(C,"mouseenter",function(){clearTimeout(C.hideTimer)}),M(y,"mouseup",function(k){t.pointer.inClass(k.target,f)||h()})),l(p,function(k){"string"===typeof k&&(k=t.options.exporting.menuItemDefinitions[k]);if(g.isObject(k,!0)){var n;k.separator?n=z("hr",null,null,J):(n=z("div",{className:"highcharts-menu-item",onclick:function(K){K&&K.stopPropagation();h();k.onclick&&k.onclick.apply(t,arguments)},innerHTML:k.text||t.options.lang[k.textKey]},null,J),n.onmouseover=function(){L(this,G.menuItemHoverStyle)},n.onmouseout=function(){L(this,G.menuItemStyle)},L(n,A({cursor:"pointer"},G.menuItemStyle)));t.exportDivElements.push(n)}}),t.exportDivElements.push(J,C),t.exportMenuWidth=C.offsetWidth,t.exportMenuHeight=C.offsetHeight);p={display:"block"};v+t.exportMenuWidth>B?p.right=B-v-H-I+"px":p.left=v-I+"px";r+D+t.exportMenuHeight>F&&"top"!==x.alignOptions.verticalAlign?p.bottom=F-r-I+"px":p.top=r+D-I+"px";L(C,p);t.openMenu=!0},addButton:function(n){var r=this,x=r.renderer,t=w(r.options.navigation.buttonOptions,n),B=t.onclick,G=t.menuItems,C,v,E=t.symbolSize||12;r.btnCount||(r.btnCount=0);r.exportDivElements||(r.exportDivElements=[],r.exportSVGElements=[]);if(!1!==t.enabled){var D=t.theme,I=D.states,H=I&&I.hover,I=I&&I.select,F;delete D.states;B?F=function(f){f.stopPropagation();B.call(r,f)}:G&&(F=function(){r.contextMenu(v.menuClassName,G,v.translateX,v.translateY,v.width,v.height,v);v.setState(2)});t.text&&t.symbol?D.paddingLeft=d(D.paddingLeft,25):t.text||A(D,{width:t.width,height:t.height,padding:0});v=x.button(t.text,0,0,F,D,H,I).addClass(n.className).attr({"stroke-linecap":"round",title:r.options.lang[t._titleKey],zIndex:3});v.menuClassName=n.menuClassName||"highcharts-menu-"+r.btnCount++;t.symbol&&(C=x.symbol(t.symbol,t.symbolX-E/2,t.symbolY-E/2,E,E).addClass("highcharts-button-symbol").attr({zIndex:1}).add(v),C.attr({stroke:t.symbolStroke,fill:t.symbolFill,"stroke-width":t.symbolStrokeWidth||1}));v.add().align(A(t,{width:v.width,x:d(t.x,r.buttonOffset)}),!0,"spacingBox");r.buttonOffset+=(v.width+t.buttonSpacing)*("right"===t.align?-1:1);r.exportSVGElements.push(v,C)}},destroyExport:function(h){var k=h?h.target:this;h=k.exportSVGElements;var p=k.exportDivElements,n=k.exportEvents,r;h&&(l(h,function(f,t){f&&(f.onclick=f.ontouchstart=null,r="cache-"+f.menuClassName,k[r]&&delete k[r],k.exportSVGElements[t]=f.destroy())}),h.length=0);p&&(l(p,function(f,t){clearTimeout(f.hideTimer);o(f,"mouseleave");k.exportDivElements[t]=f.onmouseout=f.onmouseover=f.ontouchstart=f.onclick=null;c(f)}),p.length=0);n&&(l(n,function(f){f()}),n.length=0)}});u.menu=function(f,h,n,k){return["M",f,h+2.5,"L",f+n,h+2.5,"M",f,h+k/2+0.5,"L",f+n,h+k/2+0.5,"M",f,h+k-1.5,"L",f+n,h+k-1.5]};b.prototype.renderExporting=function(){var f=this,h=f.options.exporting,n=h.buttons,k=f.isDirtyExporting||!f.exportSVGElements;f.buttonOffset=0;f.isDirtyExporting&&f.destroyExport();k&&!1!==h.enabled&&(f.exportEvents=[],j(n,function(p){f.addButton(p)}),f.isDirtyExporting=!1);M(f,"destroy",f.destroyExport)};b.prototype.callbacks.push(function(f){f.renderExporting();M(f,"redraw",f.renderExporting);l(["exporting","navigation"],function(h){f[h]={update:function(n,k){f.isDirtyExporting=!0;w(!0,f.options[h],n);d(k,!0)&&f.redraw()}}})})})(a)});