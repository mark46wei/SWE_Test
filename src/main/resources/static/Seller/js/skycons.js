!function(Q){function J(d,c,b,a){d.beginPath(),d.arc(c,b,a,0,U,!1),d.fill()}function F(g,f,d,c,b){g.beginPath(),g.moveTo(f,d),g.lineTo(c,b),g.stroke()}function A(w,m,f,b,p,u,v,n){var g=Math.cos(m*U),d=Math.sin(m*U);n-=v,J(w,f-d*p,b+g*u+0.5*n,v+(1-0.5*g)*n)}function j(u,f,d,b,g,m,p,e){var c;for(c=5;c--;){A(u,f+c/5,d,b,g,m,p,e)}}function K(y,m,f,b,p,v,w){m/=30000;var g=0.21*p,d=0.12*p,a=0.24*p,C=0.28*p;y.fillStyle=w,j(y,m,f,b,g,d,a,C),y.globalCompositeOperation="destination-out",j(y,m,f,b,g,d,a-v,C-v),y.globalCompositeOperation="source-over"}function N(X,C,m,b,M,S,W){C/=120000;var y,w,g,Y,i=0.25*M-0.5*S,p=0.32*M+0.5*S,Z=0.5*M-0.5*S;for(X.strokeStyle=W,X.lineWidth=S,X.lineCap="round",X.lineJoin="round",X.beginPath(),X.arc(m,b,i,0,U,!1),X.stroke(),y=8;y--;){w=(C+y/8)*U,g=Math.cos(w),Y=Math.sin(w),F(X,m+g*p,b+Y*p,m+g*Z,b+Y*Z)}}function O(C,u,m,f,b,v,w){u/=15000;var y=0.29*b-0.5*v,p=0.05*b,g=Math.cos(u*U),d=g*U/-16;C.strokeStyle=w,C.lineWidth=v,C.lineCap="round",C.lineJoin="round",m+=g*p,C.beginPath(),C.arc(m,f,y,d+U/8,d+7*U/8,!1),C.arc(m+Math.cos(d)*y*x,f+Math.sin(d)*y*x,y,d+5*U/8,d+3*U/8,!0),C.closePath(),C.stroke()}function G(Y,M,y,p,b,S,W){M/=1350;var X,C,w,g,Z=0.16*b,m=11*U/12,v=7*U/12;for(Y.fillStyle=W,X=4;X--;){C=(M+X/4)%1,w=y+(X-1.5)/1.5*(1===X||2===X?-1:1)*Z,g=p+C*C*b,Y.beginPath(),Y.moveTo(w,g-1.5*S),Y.arc(w,g,0.75*S,m,v,!1),Y.fill()}}function E(M,v,i,b,w,y,C){v/=750;var p,m,f,S,g=0.1875*w;for(M.strokeStyle=C,M.lineWidth=0.5*y,M.lineCap="round",M.lineJoin="round",p=4;p--;){m=(v+p/4)%1,f=Math.floor(i+(p-1.5)/1.5*(1===p||2===p?-1:1)*g)+0.5,S=b+m*w,F(M,f,S-1.5*y,f,S+1.5*y)}}function q(am,ag,Z,i,ah,aj,ak){ag/=3000;var ad,ac,W,an,Y=0.16*ah,aa=0.75*aj,ao=ag*U*0.7,ae=Math.cos(ao)*aa,ab=Math.sin(ao)*aa,af=ao+U/3,ai=Math.cos(af)*aa,X=Math.sin(af)*aa,ap=ao+2*U/3,w=Math.cos(ap)*aa,al=Math.sin(ap)*aa;for(am.strokeStyle=ak,am.lineWidth=0.5*aj,am.lineCap="round",am.lineJoin="round",ad=4;ad--;){ac=(ag+ad/4)%1,W=Z+Math.sin((ac+ad/4)*U)*Y,an=i+ac*ah,F(am,W-ae,an-ab,W+ae,an+ab),F(am,W-ai,an-X,W+ai,an+X),F(am,W-w,an-al,W+w,an+al)}}function R(y,m,f,b,p,v,w){m/=30000;var g=0.21*p,d=0.06*p,a=0.21*p,C=0.28*p;y.fillStyle=w,j(y,m,f,b,g,d,a,C),y.globalCompositeOperation="destination-out",j(y,m,f,b,g,d,a-v,C-v),y.globalCompositeOperation="source-over"}function z(W,y,v,m,b,C,M){var S=b/8,w=S/3,p=2*w,f=y%1*U,X=Math.cos(f),g=Math.sin(f);W.fillStyle=M,W.strokeStyle=M,W.lineWidth=C,W.lineCap="round",W.lineJoin="round",W.beginPath(),W.arc(v,m,S,f,f+Math.PI,!1),W.arc(v-w*X,m-w*g,p,f+Math.PI,f,!1),W.arc(v+p*X,m+p*g,w,f+Math.PI,f,!0),W.globalCompositeOperation="destination-out",W.fill(),W.globalCompositeOperation="source-over",W.stroke()}function B(ad,Z,S,p,b,aa,ab,ac,W){Z/=2500;var C,d,ae,w,af=V[ab],X=(Z+ab-k[ab].start)%ac,y=(Z+ab-k[ab].end)%ac,Y=(Z+ab)%ac;if(ad.strokeStyle=W,ad.lineWidth=aa,ad.lineCap="round",ad.lineJoin="round",1>X){if(ad.beginPath(),X*=af.length/2-1,C=Math.floor(X),X-=C,C*=2,C+=2,ad.moveTo(S+(af[C-2]*(1-X)+af[C]*X)*b,p+(af[C-1]*(1-X)+af[C+1]*X)*b),1>y){for(y*=af.length/2-1,d=Math.floor(y),y-=d,d*=2,d+=2,w=C;w!==d;w+=2){ad.lineTo(S+af[w]*b,p+af[w+1]*b)}ad.lineTo(S+(af[d-2]*(1-y)+af[d]*y)*b,p+(af[d-1]*(1-y)+af[d+1]*y)*b)}else{for(w=C;w!==af.length;w+=2){ad.lineTo(S+af[w]*b,p+af[w+1]*b)}}ad.stroke()}else{if(1>y){for(ad.beginPath(),y*=af.length/2-1,d=Math.floor(y),y-=d,d*=2,d+=2,ad.moveTo(S+af[0]*b,p+af[1]*b),w=2;w!==d;w+=2){ad.lineTo(S+af[w]*b,p+af[w+1]*b)}ad.lineTo(S+(af[d-2]*(1-y)+af[d]*y)*b,p+(af[d-1]*(1-y)+af[d+1]*y)*b),ad.stroke()}}1>Y&&(Y*=af.length/2-1,ae=Math.floor(Y),Y-=ae,ae*=2,ae+=2,z(ad,Z,S+(af[ae-2]*(1-Y)+af[ae]*Y)*b,p+(af[ae-1]*(1-Y)+af[ae+1]*Y)*b,b,aa,W))}function T(a){a.shadowColor="rgba(0,0,0,.25)",a.shadowBlur=0,a.lineWidth=1,a.shadowOffsetY=2}var H,D;!function(){var b=Q.requestAnimationFrame||Q.webkitRequestAnimationFrame||Q.mozRequestAnimationFrame||Q.oRequestAnimationFrame||Q.msRequestAnimationFrame,a=Q.cancelAnimationFrame||Q.webkitCancelAnimationFrame||Q.mozCancelAnimationFrame||Q.oCancelAnimationFrame||Q.msCancelAnimationFrame;b&&a?(H=function(g,f){function d(){c.value=b(d),g()}var c={value:null};return d(),c},D=function(c){a(c.value)}):(H=setInterval,D=clearInterval)}();var I=500,L=0.08,U=2*Math.PI,x=2/Math.sqrt(2),V=[[-0.75,-0.18,-0.7219,-0.1527,-0.6971000000000001,-0.1225,-0.6739000000000001,-0.091,-0.6516,-0.0588,-0.6298,-0.0262,-0.6083,0.0065,-0.5868,0.0396,-0.5643,0.0731,-0.5372,0.1041,-0.5033,0.1259,-0.4662,0.1406,-0.4275,0.1493,-0.3881,0.153,-0.3487,0.1526,-0.3095,0.1488,-0.2708,0.1421,-0.2319,0.1342,-0.1943,0.1217,-0.16,0.1025,-0.129,0.0785,-0.1012,0.0509,-0.0764,0.0206,-0.0547,-0.012,-0.0378,-0.0472,-0.0324,-0.0857,-0.0389,-0.1241,-0.0546,-0.1599,-0.0814,-0.1876,-0.1193,-0.1964,-0.1582,-0.1935,-0.1931,-0.1769,-0.2157,-0.1453,-0.229,-0.1085,-0.2327,-0.0697,-0.224,-0.0317,-0.2064,0.0033,-0.1853,0.0362,-0.1613,0.0672,-0.135,0.09610000000000001,-0.1051,0.1213,-0.0706,0.1397,-0.0332,0.1512,0.0053,0.158,0.0442,0.1624,0.0833,0.1636,0.1224,0.1615,0.1613,0.1565,0.1999,0.15,0.2378,0.1402,0.2749,0.1279,0.3118,0.1147,0.3487,0.1015,0.3858,0.0892,0.4236,0.07870000000000001,0.4621,0.07149999999999999,0.5012,0.0702,0.5398,0.0766,0.5768,0.089,0.6123,0.1055,0.6466,0.1244,0.6805,0.144,0.7147,0.163,0.75,0.18],[-0.75,0,-0.7033,0.0195,-0.6569,0.0399,-0.6104000000000001,0.06,-0.5634,0.0789,-0.5155,0.0954,-0.4667,0.1089,-0.4174,0.1206,-0.3676,0.1299,-0.3174,0.1365,-0.2669,0.1398,-0.2162,0.1391,-0.1658,0.1347,-0.1157,0.1271,-0.06610000000000001,0.1169,-0.017,0.1046,0.0316,0.09030000000000001,0.0791,0.0728,0.1259,0.0534,0.1723,0.0331,0.2188,0.0129,0.2656,-0.0064,0.3122,-0.0263,0.3586,-0.0466,0.4052,-0.0665,0.4525,-0.0847,0.5007,-0.1002,0.5497,-0.113,0.5991,-0.124,0.6491,-0.1325,0.6994,-0.138,0.75,-0.14]],k=[{start:0.36,end:0.11},{start:0.5600000000000001,end:0.16}],P=function(a){this.list=[],this.interval=null,this.color=a&&a.color?a.color:"black",this.dropShadow="undefined"!=typeof a.dropShadow?a.dropShadow:!0,this.resizeClear=!(!a||!a.resizeClear)};P.CLEAR_DAY=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);N(l,f,0.5*b,0.5*g,h,h*L,d),c&&T(l)},P.CLEAR_NIGHT=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);O(l,f,0.5*b,0.5*g,h,h*L,d),c&&T(l)},P.PARTLY_CLOUDY_DAY=function(m,g,d,c){var b=m.canvas.width,h=m.canvas.height,f=Math.min(b,h);N(m,g,0.625*b,0.375*h,0.75*f,f*L,d),K(m,g,0.375*b,0.625*h,0.75*f,f*L,d),c&&T(m)},P.PARTLY_CLOUDY_NIGHT=function(m,g,d,c){var b=m.canvas.width,h=m.canvas.height,f=Math.min(b,h);O(m,g,0.667*b,0.375*h,0.75*f,f*L,d),K(m,g,0.375*b,0.625*h,0.75*f,f*L,d),c&&T(m)},P.CLOUDY=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);K(l,f,0.5*b,0.5*g,h,h*L,d),c&&T(l)},P.RAIN=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);G(l,f,0.5*b,0.37*g,0.9*h,h*L,d),K(l,f,0.5*b,0.37*g,0.9*h,h*L,d),c&&T(l)},P.SLEET=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);E(l,f,0.5*b,0.37*g,0.9*h,h*L,d),K(l,f,0.5*b,0.37*g,0.9*h,h*L,d),c&&T(l)},P.SNOW=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);q(l,f,0.5*b,0.37*g,0.9*h,h*L,d),K(l,f,0.5*b,0.37*g,0.9*h,h*L,d),c&&T(l)},P.WIND=function(l,f,d,c){var b=l.canvas.width,g=l.canvas.height,h=Math.min(b,g);B(l,f,0.5*b,0.5*g,h,h*L,0,2,d),B(l,f,0.5*b,0.5*g,h,h*L,1,2,d),c&&T(l)},P.FOG=function(ab,X,u,b){var Y=ab.canvas.width,Z=ab.canvas.height,aa=Math.min(Y,Z),C=aa*L;R(ab,X,0.5*Y,0.32*Z,0.75*aa,C,u),X/=5000;var y=Math.cos(X*U)*aa*0.02,i=Math.cos((X+0.25)*U)*aa*0.02,p=Math.cos((X+0.5)*U)*aa*0.02,v=Math.cos((X+0.75)*U)*aa*0.02,S=0.9360000000000001*Z,w=Math.floor(S-0.5*C)+0.5,W=Math.floor(S-2.5*C)+0.5;ab.strokeStyle=u,ab.lineWidth=C,ab.lineCap="round",ab.lineJoin="round",F(ab,y+0.2*Y+0.5*C,w,i+0.8*Y-0.5*C,w),F(ab,p+0.2*Y+0.5*C,W,v+0.8*Y-0.5*C,W),b&&T(ab)},P.prototype={_determineDrawingFunction:function(a){return"string"==typeof a?(a=a.toUpperCase().replace(/-/g,"_"),P.hasOwnProperty(a)?P[a]:null):void 0},add:function(c,b){var a;"string"==typeof c&&(c=document.getElementById(c)),null!==c&&(b=this._determineDrawingFunction(b),"function"==typeof b&&(a={element:c,context:c.getContext("2d"),drawing:b},this.list.push(a),this.draw(a,I)))},set:function(c,b){var a;for("string"==typeof c&&(c=document.getElementById(c)),a=this.list.length;a--;){if(this.list[a].element===c){return this.list[a].drawing=this._determineDrawingFunction(b),void this.draw(this.list[a],I)}}this.add(c,b)},remove:function(b){var a;for("string"==typeof b&&(b=document.getElementById(b)),a=this.list.length;a--;){if(this.list[a].element===b){return void this.list.splice(a,1)}}},draw:function(c,b){var a=c.context.canvas;this.resizeClear?a.width=a.width:c.context.clearRect(0,0,a.width,a.height),c.drawing(c.context,b,this.color,this.dropShadow)},play:function(){var a=this;this.pause(),this.interval=H(function(){var c,b=Date.now();for(c=a.list.length;c--;){a.draw(a.list[c],b)}},1000/60)},pause:function(){this.interval&&(D(this.interval),this.interval=null)}},Q.Skycons=P}(this);