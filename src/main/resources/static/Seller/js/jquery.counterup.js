!function(a){a.fn.counterUp=function(c){var b,d=a.extend({time:400,delay:10,offset:100,beginAt:0,formatter:!1,context:"window",callback:function(){}},c);return this.each(function(){var f=a(this),h={time:a(this).data("counterup-time")||d.time,delay:a(this).data("counterup-delay")||d.delay,offset:a(this).data("counterup-offset")||d.offset,beginAt:a(this).data("counterup-beginat")||d.beginAt,context:a(this).data("counterup-context")||d.context},g=function(){var C=[],A=h.time/h.delay,y=f.attr("data-num")?f.attr("data-num"):f.text(),u=/[0-9]+,[0-9]+/.test(y);y=y.replace(/,/g,"");var e=(y.split(".")[1]||[]).length;h.beginAt>y&&(h.beginAt=y);var B=/[0-9]+:[0-9]+:[0-9]+/.test(y);if(B){var k=y.split(":"),j=1;for(b=0;k.length>0;){b+=j*parseInt(k.pop(),10),j*=60}}for(var w=A;w>=h.beginAt/y*A;w--){var z=parseFloat(y/A*w).toFixed(e);if(B){z=parseInt(b/A*w);var q=parseInt(z/3600)%24,x=parseInt(z/60)%60,n=parseInt(z%60,10);z=(10>q?"0"+q:q)+":"+(10>x?"0"+x:x)+":"+(10>n?"0"+n:n)}if(u){for(;/(\d+)(\d{3})/.test(z.toString());){z=z.toString().replace(/(\d+)(\d{3})/,"$1,$2")}}d.formatter&&(z=d.formatter.call(this,z)),C.unshift(z)}f.data("counterup-nums",C),f.text(h.beginAt);var D=function(){return f.data("counterup-nums")?(f.html(f.data("counterup-nums").shift()),void (f.data("counterup-nums").length?setTimeout(f.data("counterup-func"),h.delay):(f.data("counterup-nums",null),f.data("counterup-func",null),d.callback.call(this)))):void d.callback.call(this)};f.data("counterup-func",D),setTimeout(f.data("counterup-func"),h.delay)};f.waypoint(function(e){g(),this.destroy()},{offset:h.offset+"%",context:h.context})})}}(jQuery);