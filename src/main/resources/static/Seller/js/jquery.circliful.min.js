"use strict";!function(a){a.fn.circliful=function(d,c){var b=a.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,percentageX:100,percentageY:113,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",textY:null,textX:null,multiPercentage:0,percentages:[],multiPercentageLegend:0,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1,animateInView:!1,decimals:0,alwaysDecimals:!1,title:"Circle Chart",description:"",progressColor:null},d);return this.each(function(){function Q(){var h=M,m=aa;if(1===b.multiPercentage){var k,i,f=b.percentages,g=360;for(k=0;k<f.length;++k){i=f[k].percent,m=g/100*i,h=A.find("#circle"+(k+1)),k>0&&(g+=62.5,m=g/100*i),K(h,m,g,i)}}else{K(h,m,360,i)}}function K(k,i,h,f){var g=window.setInterval(function(){n>=i?(window.clearInterval(g),O=1,"function"==typeof c&&c.call(this)):(n+=R,af+=ac),b.halfCircle?2*n/(h/100)>=f&&1===O&&(n=h/100*f/2):n/(h/100)>=f&&1===O&&(n=h/100*f),af>b.target&&1===O&&(af=b.target),null===b.replacePercentageByText&&(ae=b.halfCircle?parseFloat(100*n/h*2):parseFloat(100*n/h),ae=ae.toFixed(b.decimals),!b.alwaysDecimals&&(0===f||f>1&&1!==O)&&(ae=parseInt(ae))),k.attr("stroke-dasharray",n+", 20000"),1!==b.multiPercentage?1===b.showPercent?j.find(".number").text(ae):(j.find(".number").text(af),j.find(".percent").text("")):(j.find(".number").text(""),j.find(".percent").text("")),null!==Z&&a.each(Z,function(l,m){b.halfCircle&&(l/=2),n>=l*(h/100)&&k.css({stroke:m,transition:"stroke 0.1s linear"})})}.bind(k),V)}function I(){var k=-1!==navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html",i=a(k).scrollTop(),g=i+a(window).height(),h=Math.round(M.offset().top),f=h+M.height();return g>h&&f>i}function e(){M.hasClass("start")||I(M)&&(M.addClass("start"),setTimeout(Q,250))}function q(g,f){a.each(g,function(h,i){h.toLowerCase() in f&&(g[h]=f[h.toLowerCase()])})}function G(){if(1===b.multiPercentage){var w,v,m,k,f,g=b.percentages,h=47,s=360,x=-90;for(w=0;w<g.length;++w){m=g[w].percent,k=g[w].color,v=s/100*m,w>0&&(s+=62.5,v=s/100*m),h+=10,f+='<circle cx="100" cy="100" r="'+h+'" class="border" fill="'+b.fillColor+'" stroke="'+b.backgroundColor+'" stroke-width="'+J+'" stroke-dasharray="'+s+'" transform="rotate('+x+',100,100)" /><circle class="circle" id="circle'+(w+1)+'" data-percent="'+m+'" cx="100" cy="100" r="'+h+'" class="border" fill="none" stroke="'+k+'" stroke-width="'+b.foregroundBorderWidth+'" stroke-dasharray="'+v+',20000" transform="rotate('+x+',100,100)" />'}A.addClass("svg-container").append(a('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof D?D:"")+f+E+'<text class="timer" text-anchor="middle" x="'+r+'" y="'+ad+'" style="font-size: '+b.percentageTextSize+"px; "+ab+";"+b.textAdditionalCss+'" fill="'+b.fontColor+'"><tspan class="number">'+(null===b.replacePercentageByText?0:b.replacePercentageByText)+'</tspan><tspan class="percent">'+(b.noPercentageSign||null!==b.replacePercentageByText?"":"%")+"</tspan></text>")),1===b.multiPercentageLegend&&N()}else{A.addClass("svg-container").append(a('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof D?D:"")+'<circle cx="100" cy="100" r="57" class="border" fill="'+b.fillColor+'" stroke="'+b.backgroundColor+'" stroke-width="'+J+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+b.foregroundColor+'" stroke-width="'+b.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+b.pointSize+'" fill="'+b.pointColor+'" />'+E+'<text class="timer" text-anchor="middle" x="'+r+'" y="'+ad+'" style="font-size: '+b.percentageTextSize+"px; "+ab+";"+b.textAdditionalCss+'" fill="'+b.fontColor+'"><tspan class="number">'+(null===b.replacePercentageByText?0:b.replacePercentageByText)+'</tspan><tspan class="percent">'+(b.noPercentageSign||null!==b.replacePercentageByText?"":"%")+"</tspan></text>"))}}function N(){var v,p=A.height(),m=A.width(),k=b.percentages,f="";for(v=0;v<k.length;++v){var g=k[v].title,h=k[v].color,u=k[v].percent;f+='<div><span class="color-box" style="background: '+h+'"></span>'+g+", "+u+"%</div>"}A.append(a("<div/>").append(f).attr("style","position:absolute;top:"+p/3+"px;left:"+(m+20)+"px").attr("class","legend-line"))}var A=a(this);q(b,A.data());var ab,D,E,L=b.percent,U=83,F=100,ad=b.percentageY,r=b.percentageX,J=b.backgroundBorderWidth,Z=b.progressColor;if(b.halfCircle?"left"===b.iconPosition?(F=80,U=100,r=117,ad=100):b.halfCircle&&(U=80,ad=100):"bottom"===b.iconPosition?(U=124,ad=95):"left"===b.iconPosition?(F=80,U=110,r=117):"middle"===b.iconPosition?(1!==b.multiPercentage&&(D='<g stroke="'+("none"!==b.backgroundColor?b.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',D+='<g stroke="'+("none"!==b.backgroundColor?b.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',r=170,ad=35),U=110):"right"===b.iconPosition?(F=120,U=110,r=80):"top"===b.iconPosition&&"none"!==b.icon&&(ad=120),b.targetPercent>0&&b.halfCircle!==!0&&(ad=95,D='<g stroke="'+("none"!==b.backgroundColor?b.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',D+='<text text-anchor="middle" x="'+r+'" y="120" style="font-size: '+b.targetTextSize+'px;" fill="'+b.targetColor+'">'+b.targetPercent+(b.noPercentageSign&&null===b.replacePercentageByText?"":"%")+"</text>",D+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+b.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',D+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+b.targetColor+'" stroke-width="3" stroke-dasharray="'+4.35*b.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!==b.text&&(D+=b.halfCircle?b.textBelow?'<text text-anchor="middle" x="'+(null!==b.textX?b.textX:"100")+'" y="'+(null!==b.textY?b.textY:"64%")+'" style="'+b.textStyle+'" fill="'+b.textColor+'">'+b.text+"</text>":'<text text-anchor="middle" x="'+(null!==b.textX?b.textX:"100")+'" y="'+(null!==b.textY?b.textY:"115")+'" style="'+b.textStyle+'" fill="'+b.textColor+'">'+b.text+"</text>":b.textBelow?'<text text-anchor="middle" x="'+(null!==b.textX?b.textX:"100")+'" y="'+(null!==b.textY?b.textY:"99%")+'" style="'+b.textStyle+'" fill="'+b.textColor+'">'+b.text+"</text>":'<text text-anchor="middle" x="'+(null!==b.textX?b.textX:"100")+'" y="'+(null!==b.textY?b.textY:"115")+'" style="'+b.textStyle+'" fill="'+b.textColor+'">'+b.text+"</text>"),"none"!==b.icon&&(E='<text text-anchor="middle" x="'+F+'" y="'+U+'" class="icon" style="font-size: '+b.iconSize+'px" fill="'+b.iconColor+'">&#x'+b.icon+"</text>"),b.halfCircle){var H='transform="rotate(-180,100,100)"';A.addClass("svg-container").append(a('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+("undefined"!=typeof D?D:"")+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+b.fillColor+'" stroke="'+b.backgroundColor+'" stroke-width="'+J+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+b.foregroundColor+'" stroke-width="'+b.foregroundBorderWidth+'" stroke-dasharray="0,20000" '+H+' /><circle cx="100" cy="100" r="'+b.pointSize+'" fill="'+b.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+E+'<text class="timer" text-anchor="middle" x="'+r+'" y="'+ad+'" style="font-size: '+b.percentageTextSize+"px; "+ab+";"+b.textAdditionalCss+'" fill="'+b.fontColor+'"><tspan class="number">'+(null===b.replacePercentageByText?0:b.replacePercentageByText)+'</tspan><tspan class="percent">'+(b.noPercentageSign||null!==b.replacePercentageByText?"":"%")+"</tspan></text>"))}else{G()}var M=A.find(".circle"),j=A.find(".timer"),V=30,n=0,R=b.animationStep,O=0,af=0,ac=0,ae=L,aa=3.6*L;b.halfCircle&&(aa=3.6*L/2),null!==b.replacePercentageByText&&(ae=b.replacePercentageByText),b.start>0&&b.target>0&&(L=b.start/(b.target/100),ac=b.target/100),1===b.animation?b.animateInView?a(window).scroll(function(){e()}):Q():1!==b.multiPercentage?(M.attr("stroke-dasharray",aa+", 20000"),1===b.showPercent?j.find(".number").text(ae):(j.find(".number").text(b.target),j.find(".percent").text(""))):null!==b.replacePercentageByText&&(j.find(".number").text(b.replacePercentageByText),j.find(".percent").text(""))})}}(jQuery);